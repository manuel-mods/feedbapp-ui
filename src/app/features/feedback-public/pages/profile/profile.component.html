<div class="d-flex">
  <!-- Main content -->
  <div class="flex-grow-1">
    <!-- Header -->
    <header class="p-3 border-bottom small text-white text-center fw-bold bg-primary bg-gradient">
      Perfil creado con feedb.app
    </header>

    <main class="p-3">
      <div class="container mt-4">
        <div class="row">
          <div class="col-12">
            <div class="d-flex align-items-center mb-3">
              <img
                [src]="user.avatar"
                alt="Avatar"
                class="rounded-circle me-3"
                width="180"
                height="180" />
              <div class="w-100">
                <div class="float-end fw-bold small">
                  Puntuación ({{ user.rating }})
                  <div>
                    @for(star of [1, 2, 3, 4, 5]; track $index) {
                    <ng-container>
                      <i
                        class="fas"
                        [ngClass]="{
                          'fa-star text-warning': star <= user.rating,
                          'fa-star text-muted': star > user.rating
                        }"></i>
                    </ng-container>
                    }
                  </div>
                </div>

                <h4 class="mb-0">{{ user.name }}</h4>
                <small class="text-muted">Miembro desde {{ user.memberSince }}</small>
                <p>{{ user.bio }}</p>
                <div>
                  <a routerLink="/public/form" class="btn btn-primary me-2">
                    Dale un feedback
                    <i class="fa fa-rocket"></i>
                  </a>
                  <a routerLink="#" class="btn btn-outline-primary">Seguir</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12">
            <hr />
            <!-- Previsualización del Perfil -->
            <div class="card shadow-sm">
              <div class="card-body">
                <h5 class="card-title text-center mb-4">Previsualización de mi Perfil</h5>

                <div class="row">
                  @for(feedback of feedbackList; track $index) {
                  <div class="col-12 col-md-6 col-lg-4 mb-3">
                    <div class="card shadow-sm">
                      <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                          <div class="d-flex align-items-center">
                            <img
                              [src]="feedback.avatar"
                              alt="Avatar"
                              class="rounded-circle me-3"
                              width="50"
                              height="50" />
                            <div>
                              <h5 class="mb-0">{{ feedback.user }}</h5>
                              <small class="text-muted">{{ feedback.date }}</small>
                            </div>
                          </div>
                        </div>

                        <p class="mt-3">{{ feedback.comment }}</p>

                        <div class="feedback-rating">
                          @for(star of [1, 2, 3, 4, 5]; track $index) {
                          <ng-container>
                            <i
                              class="fas"
                              [ngClass]="{
                                'fa-star text-warning': star <= feedback.rating,
                                'fa-star text-muted': star > feedback.rating
                              }"></i>
                          </ng-container>
                          }

                          <span class="ms-2">{{ feedback.rating }}.0</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="w-100 text-center d-flex align-items-center justify-content-center p-3 gap-2 small">
        Perfil creado en
        <img
          src="https://www.mods.cl/propuestas/feedbapp/images/feedbapp-logo.png"
          alt="Feedbapp"
          width="80" />
      </div>
    </main>
  </div>
</div>
